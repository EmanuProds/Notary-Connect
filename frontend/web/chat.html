<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat de Atendimento</title>
    <link rel="stylesheet" href="css/chatStyles.css">
    </head>
<body>
    <div class="app-layout"> <aside class="sidebar">
            <div class="sidebar-header">
                <button id="add-room-button" title="Nova Sala ou Chat">
                    <img src="img/icons/plus-icon.svg" alt="Nova Sala">
                </button>
                </div>
            <div class="room-list-container" id="room-list">
                <!--
                <div class="room-item active">
                    <span class="room-name">Sala Principal</span>
                    <span class="unread-count">3</span>
                </div>
                -->
                <!--
                <div class="room-item">
                    <span class="room-name">Suporte Técnico</span>
                </div>
                -->
                <div class="room-item placeholder">Carregando salas...</div>
            </div>
        </aside>

        <main class="main-chat-area">
            <header class="main-chat-header">
                <div class="header-left">
                    <button id="menu-button" title="Menu Principal">
                        <img src="img/icons/menu-hamburger-icon.svg" alt="Menu">
                    </button>
                </div>
                <div class="header-center">
                    <h1 id="chat-room-title">Selecione uma sala</h1> </div>
                <div class="header-right">
                    <span id="user-count-indicator" title="Usuários na sala">
                        <img src="img/icons/user-group-icon.svg" alt="Usuários">
                        <span id="user-count">0</span>
                    </span>
                    <button id="close-room-button" title="Fechar Sala Atual">
                        <img src="img/icons/close-icon.svg" alt="Fechar Sala">
                    </button>
                </div>
            </header>

            <div class="chat-messages" id="chat-messages">
                <div class="no-chat-selected" id="no-chat-placeholder">
                    <img src="img/icons/chat-bubble-hash-icon.svg" alt="Ícone de Chat" class="placeholder-icon">
                    <h2 class="placeholder-title">Bem-vindo!</h2>
                    <p class="placeholder-text">Selecione uma sala na barra lateral ou crie uma nova clicando no botão '+' para iniciar uma conversa.</p>
                </div>
                </div>

            <div id="typing-indicator" class="typing-indicator" style="display: none;">
                <span></span><span></span><span></span> </div>

            <div class="chat-input-area">
                <button id="attach-file-button" title="Anexar Arquivo">
                    <img src="img/icons/attach-icon.svg" alt="Anexar">
                </button>
                <textarea id="message-input" placeholder="Digite sua mensagem..." rows="1"></textarea>
                <button id="send-message-button" title="Enviar Mensagem">
                    <img src="img/icons/send-icon.svg" alt="Enviar">
                </button>
                <button id="record-audio-button" title="Gravar Áudio">
                    <img src="img/icons/mic-icon.svg" alt="Gravar Áudio">
                </button>
            </div>

            <!-- As seções chat-actions e notification-area foram mantidas,
                 mas podem precisar de reavaliação para se encaixarem perfeitamente
                 no novo design inspirado no Polari.
                 Para um visual mais limpo, elas poderiam ser integradas de outra forma (ex: menus de contexto) ou removidas.
            -->
            <div class="chat-actions">
                <button id="quick-responses-button">Respostas Rápidas</button>
                <button id="transfer-chat-button">Transferir Chat</button>
            </div>
            <div id="notification-area" class="notification-area">
                </div>
        </main>
    </div>

    <script src="js/chatDomElements.js"></script>
    <script src="js/chatUtils.js"></script>
    <script src="js/chatUiUpdater.js"></script>
    <script src="js/chatWebsocketService.js"></script>
    <script src="js/chatEventHandlers.js"></script>
    <script src="js/chatActions.js"></script>
    <script src="js/notificationService.js"></script>
    <script src="js/mainChatScript.js"></script>
</body>
</html>
